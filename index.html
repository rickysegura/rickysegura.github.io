<!--
  Designed & developed by Ricky Segura
  Los Angeles, California, United States of America

  devrickysegura@gmail.com
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="logo.jpg" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ricky Segura</title>

    <script src="jquery-3.6.4.min.js"></script>
    <script src="https://kit.fontawesome.com/5885002872.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="app">
      <!-- Top Navigation Menu -->
      <div class="topnav">
        <a href="#home" class="active"><i class="fa-solid fa-location-dot"></i> Los Angeles, CA</a>
        <!-- Navigation links (hidden by default) -->
        <div id="myLinks">
          <a href="https://apod.w3spaces.com/" style="color:white;background-color:crimson;border-bottom:1px solid black;">APOD</a>
          <a href="https://www.buymeacoffee.com/papibones" style="color:white;background-color:crimson;">Buy Me A Coffee â˜•</a>
        </div>
        <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
      </div>

      <section id="user-vid">
        <!--<iframe width="100%" height="333" src="https://www.youtube.com/embed/SyB6A2qCJSM" title="Another day, more warzone" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>-->
        <video src="yuh.mp4" width="100%" height="100%" autoplay loop controls poster="placeholder.png"></video>
      </section>

      <main>
        <div class="container">
          <div class="text_hide"></div>
          <div class="text">rickysegura</div>
          <div class="text_cursor"></div>
        </div>

        <div id="tree-container">
          <div id="outerLinks">
            <a href="https://github.com/rickysegura" class="animated_link out-link">
              <i id="brand-img"></i>
              <span>NeoSpaces</span>
            </a>
          </div>

          <section id="link-tree">
            <a href="https://github.com/rickysegura">
              <i class="fa-brands fa-github"></i>
              <span>GitHub</span>
            </a>
            
            <a href="https://www.twitch.tv/icylilnarco">
              <i class="fa-brands fa-twitch"></i>
              <span>Twitch</span>
            </a>

            <a href="https://www.instagram.com/tsaheyluxbones/">
              <i class="fa-brands fa-instagram"></i>
              <span>Instagram</span>
            </a>

            <a href="https://twitter.com/theicybones">
              <i class="fa-brands fa-twitter"></i>
              <span>Twitter</span>
            </a>

            <a href="mailto:devrickysegura@gmail.com">
              <i class="fa-solid fa-envelope"></i>
              <span>Contact</span>
            </a>
          </section>
        </div>
      </main>
    </div>

    <div id="photoWall">
      <div class="photo" id="img-1"></div>
      <div class="photo" id="img-2"></div>
    </div>

    <div id="twitter-feed">
      <a class="twitter-timeline" data-height="300" data-theme="dark" href="https://twitter.com/myneospaces?ref_src=twsrc%5Etfw">Tweets by myneospaces</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>

    <script>
      function myFunction() {
        var x = document.getElementById("myLinks");
        if (x.style.display === "block") {
          x.style.display = "none";
        } else {
          x.style.display = "block";
        }
      }

      function typing_animation() {
        let text_element = document.querySelector(".text");
        let text_array = text_element.innerHTML.split("");
        let text_array_slice = text_element.innerHTML.split(" ");
        let text_len = text_array.length;

        const word_len = text_array_slice.map((word) => {
            return word.length;
        })

        console.log(word_len);

        let timings = {
            easing: `steps(${Number(word_len[0] + 1)}, end)`,
            delay: 2000,
            duration: 2000,
            fill: 'forwards'
        }

        let cursor_timings = {
            duration: 700,
            iterations: Infinity,
            easing: 'cubic-bezier(0,.26,.44,.93)'
        }

        document.querySelector(".text_cursor").animate([
            {
                opacity: 0
            },
            {
                opacity: 0, offset: 0.7
            },
            {
                opacity: 1
            }
        ], cursor_timings);

        if (text_array_slice.length == 1) {
            timings.easing = `steps(${Number(word_len[0])}, end)`;

            let reveal_animation = document.querySelector(".text_hide").animate([
                { left: '0%' },
                { left: `${(100 / text_len) * (word_len[0])}%` }
            ], timings);

            document.querySelector(".text_cursor").animate([
                { left: '0%' },
                { left: `${(100 / text_len) * (word_len[0])}%` }
            ], timings);

            reveal_animation.onfinish = () => {
                setTimeout(() => {
                    document.querySelector('.text_hide').animate([
                        {left: '0%'}
                    ], {
                        duration: 2000,
                        easing: 'cubic-bezier(.73,0,.38,.88)'
                    });
                    document.querySelector('.text_cursor').animate([
                        {left: '0%'}
                    ], {
                        duration: 2000,
                        easing: 'cubic-bezier(.73,0,.38,.88)'
                    });
                    typing_animation();
                }, 1000);
            }
        } else {
            document.querySelector(".text_hide").animate([
                { left: '0%' },
                { left: `${(100 / text_len) * (word_len[0] + 1)}%` }
            ], timings);

            document.querySelector(".text_cursor").animate([
                { left: '0%' },
                { left: `${(100 / text_len) * (word_len[0] + 1)}%` }
            ], timings);
        }


        for (let i = 1; i < text_array_slice.length; i++) {
            console.log(word_len);
            console.log(text_array_slice.length);
            const single_word_len = word_len[i];
            console.log(single_word_len);

            if (i == 1) {
                var left_instance = (100 / text_len) * (word_len[i - 1] + 1);
                console.log(left_instance);
            }

            let timings_2 = {
                easing: `steps(${Number(single_word_len + 1)}, end)`,
                delay: (2 * (i + 1) + (2 * i)) * (1000),
                // delay: ((i*2)-1)*1000,
                duration: 2000,
                fill: 'forwards'
            }

            if (i == (text_array_slice.length - 1)) {
                timings_2.easing = `steps(${Number(single_word_len)}, end)`;
                let reveal_animation = document.querySelector(".text_hide").animate([
                    { left: `${left_instance}%` },
                    { left: `${left_instance + ((100 / text_len) * (word_len[i]))}%` }
                ], timings_2);

                document.querySelector(".text_cursor").animate([
                    { left: `${left_instance}%` },
                    { left: `${left_instance + ((100 / text_len) * (word_len[i]))}%` }
                ], timings_2);

                reveal_animation.onfinish = () => {
                    setTimeout(() => {
                        document.querySelector('.text_hide').animate([
                            {left: '0%'}
                        ], {
                            duration: 2000,
                            easing: 'cubic-bezier(.73,0,.38,.88)'
                        });
                        document.querySelector('.text_cursor').animate([
                            {left: '0%'}
                        ], {
                            duration: 2000,
                            easing: 'cubic-bezier(.73,0,.38,.88)'
                        });
                        typing_animation();
                    }, 1000);
                }
            } else {
                document.querySelector(".text_hide").animate([
                    { left: `${left_instance}%` },
                    { left: `${left_instance + ((100 / text_len) * (word_len[i] + 1))}%` }
                ], timings_2);

                document.querySelector(".text_cursor").animate([
                    { left: `${left_instance}%` },
                    { left: `${left_instance + ((100 / text_len) * (word_len[i] + 1))}%` }
                ], timings_2);
            }

            left_instance = left_instance + ((100 / text_len) * (word_len[i] + 1));
        }
      }
      typing_animation();
    </script>
  </body>
</html>